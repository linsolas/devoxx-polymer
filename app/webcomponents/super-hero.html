<polymer-element name="super-hero" attributes="hero">
    <template>
        <div class="hero">
            <span class="profile">
                <img src="{{ hero.thumbnail.path + '.' + hero.thumbnail.extension }}">
            </span>

            <div class="info">
                <div class="desc">
                    <strong>{{ hero.name }}</strong>
                    <span>{{ hero.description }}</span>
                    <button type="button" class="btn btn-primary btn-sm hire" on-click="{{hireMe}}"><span
                            class="glyphicon glyphicon-star"></span> Hire
                    </button>
                </div>
            </div>
        </div>
    </template>
    <script>
        var module = (function() {
            var fetch = function(id) {
                var storedHero = localStorage.getItem('hero.' + id);
                return JSON.parse(storedHero);
            };
            return {
                ready: function () {
                    var heroId = this.hero;
                    console.log('hero id',heroId);
                    this.hero = fetch(heroId);
                    console.log('New hero %s', this.hero.name);
                },
                hireMe: function() {
                    console.log('Hire %s', this.hero.name);
                }
            }
        })();
        Polymer('super-hero', module);
    </script>
</polymer-element>
