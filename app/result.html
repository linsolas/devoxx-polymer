<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Marvel Application by Polymer</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css"/>
    <link rel="stylesheet" href="styles/main.css">

    <script src="bower_components/platform/platform.js"></script>
    <script src="bower_components/polymer/polymer.js"></script>
    <script src="bower_components/web-animations-js/web-animations.js"></script>

    <link rel="import" href="webcomponents/super-hero-result.html">
</head>
<body>

<div class="container">
    <div class="header">
        <ul class="nav nav-pills pull-right">
            <li class="active"><a>Home</a></li>
            <li><a>About</a></li>
            <li><a>Contact</a></li>
        </ul>
        <h3 class="text-muted">Marvel Application powered by Polymer</h3>
    </div>

    <div class="row row-fight">
        <button class="btn btn-danger btn-lg col-lg-2 col-lg-offset-1" onclick="selectOneWinner()">
            <span class="glyphicon glyphicon-fire"></span>
            FIGHT
        </button>
        <pre class="col-lg-7 col-lg-offset-1" id="results">No fight yet</pre>
    </div>

    <h2>Heroes</h2>

    <div class="row row-super-hero">
        <super-hero heroId="1009718"></super-hero>
        <super-hero heroId="1009351"></super-hero>
        <super-hero heroId="1009610"></super-hero>
    </div>

    <div class="row row-super-hero">
        <super-hero heroId="1009368"></super-hero>
        <super-hero heroId="1009664"></super-hero>
        <super-hero heroId="1009220"></super-hero>
    </div>

    <!--
        1009368     Iron Man
        1009610     Spiderman
        1009351     Hulk
        1009664     Thor
        1009220     Capitain America
        1009718     Wolverine

    -->

    <div class="footer">
        <p>Made with love by <a href="https://twitter.com/romaintaz">Romain</a> and <a href="https://twitter.com/jak78">Julien</a>
            for <a href="http://www.devoxx.fr">Devoxx France 2014</a></p>
    </div>
</div>

<script>
    function selectOneWinner() {
        var heroes = document.querySelectorAll('super-hero');
        var r = Math.floor(Math.random() * heroes.length);
        document.querySelector('#results').innerHTML = heroes[r].hero.name + ' wins';
        for (var i = 0; i < heroes.length; i++) {
            if (i == r) {
                heroes[i].win();
            } else {
                heroes[i].loose();
            }
        }
    }
</script>

</body>
</html>
